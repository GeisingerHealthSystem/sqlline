#!/bin/bash
# sqlline - Script to launch SQL shell on Unix, Linux or Mac OS
#
# Related for the RSA/SSL error before the ext dir was linked below:
# https://github.com/julianhyde/sqlline/issues/46
# JIRA: HO-1713 (initial implementation)
# JIRA: HO-1807 (kerberos)

# debug only
# -Dsun.security.krb5.debug=true

BINPATH=$(dirname $0)
# Include drivers in BINPATH (e.g. Simba hive driver)
# This path needs included for unlimited JCE: /usr/lib/jvm/jre/lib/ext
export BINPATH=/usr/lib/simba-hive-jdbc:/usr/lib/jvm/jre/lib/ext:/usr/lib/sqlline:$BINPATH
exec java \
        -Djava.ext.dirs=$BINPATH \
        -Djavax.net.ssl.trustStore=/etc/pki/java/cacerts \
        -Djavax.net.ssl.trustStorePassword=changeit sqlline.SqlLine \
        "$@"

# End sqlline
